swagger: "2.0"
info:
  description: Servicio para devolver la PDP de un producto en Omnistore
  version: 1.0.0
  title: Omnistore-Product
schemes:
 - http
produces:
 - application/json
security:
 -
  default: []
paths:
  /product:
    get:
      parameters:
       -
        name: siteId
        in: query
        description: site
        required: false
        type: string
       -
        name: productId
        in: query
        description: productId
        required: false
        type: string
       -
        name: storeId
        in: query
        description: storeId
        required: false
        type: string
       -
        name: locale
        in: query
        description: locale
        required: false
        type: string
       -
        name: property
        in: query
        description: property
        required: false
        type: string
       -
        name: value
        in: query
        description: value
        required: false
        type: string
       -
        name: scope
        in: query
        description: scope
        required: false
        type: string
       -
        name: eciExpressCentreId
        in: query
        description: eciExpressCentreId
        required: false
        type: string
       -
        name: originRequest
        in: query
        description: originRequest
        required: false
        type: string
      responses:
        "200":
          description: Ok la llamada es correcta.
          schema:
            $ref: '#/definitions/pdp'
        "500":
          description: La llamada no es correcta.
          schema:
            $ref: '#/definitions/errors'
      security:
       -
        default: []
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
         - oauth2
        optional: false
  /product/{productId}:
    get:
      parameters:
       -
        name: productId
        in: path
        required: true
        type: string
       -
        name: siteId
        in: query
        description: site
        required: false
        type: string
       -
        name: storeId
        in: query
        description: storeId
        required: false
        type: string
       -
        name: locale
        in: query
        description: locale
        required: false
        type: string
       -
        name: property
        in: query
        description: property
        required: false
        type: string
       -
        name: value
        in: query
        description: value
        required: false
        type: string
       -
        name: scope
        in: query
        description: scope
        required: false
        type: string
       -
        name: eciExpressCentreId
        in: query
        description: eciExpressCentreId
        required: false
        type: string
       -
        name: originRequest
        in: query
        description: originRequest
        required: false
        type: string
      responses:
        "200":
          description: Ok la llamada es correcta.
          schema:
            $ref: '#/definitions/pdp'
        "500":
          description: La llamada no es correcta.
          schema:
            $ref: '#/definitions/errors'
      security:
       -
        default: []
      x-auth-type: Application & Application User
      x-throttling-tier: Unlimited
      x-wso2-application-security:
        security-types:
         - oauth2
        optional: false
securityDefinitions:
  default:
    type: oauth2
    authorizationUrl: https://test.com
    flow: implicit
definitions:
  pdp:
    type: object
    required:
     - group_type
     - id
     - title
    properties:
      locales:
        type: array
        description: locales available
        items:
          type: string
      sites:
        type: array
        description: This product is available in these sites
        items:
          type: string
      group_type:
        $ref: '#/definitions/group_type'
      brand:
        type: object
        description: the product brand item
        additionalProperties: {}
      food_information:
        type: object
        description: information and warnings of food ingredients
        additionalProperties: {}
      coordinated_products:
        type: array
        description: ""
        items:
          type: object
          properties:
            product:
              type: string
              description: ""
            title:
              type: string
              description: ""
            signal_services:
              type: array
              description: the available signal services
              items:
                type: object
                additionalProperties: {}
            skus:
              type: array
              description: ""
              items:
                type: object
                properties:
                  title:
                    type: string
                    description: the sku title
                  short_description:
                    type: string
                    description: the product short description
                  units:
                    type: number
                    description: the sku units inside the collection
                  mandatory_signal_service:
                    type: boolean
                    description: true if is required to send a signal service
                  marketplace_info:
                    type: object
                    description: the Marketplace information associated to the sku.
                    additionalProperties: {}
                  color:
                    type: string
                    description: the sku color variant
                  image_color:
                    description: the color image
                    $ref: '#/definitions/image'
                  merchandising:
                    description: the merchandising information
                    $ref: '#/definitions/merchandising'
                  gtin:
                    type: string
                    description: the sku gtin
                  isbn_old:
                    type: array
                    description: the isbn_old array
                    items:
                      type: string
                  web_model_code:
                    type: string
                    description: the model code
                  add_to_cart:
                    description: the add to cart variant
                  without_basket_date:
                    type: string
                    description: the sku date when the product ends without stock
                  image:
                    description: the sku image
                    $ref: '#/definitions/image'
                  price:
                    type: string
                    description: the sku price
                  edition_date:
                    type: string
                    description: the sku date when the product is launched
                  sale_price:
                    type: string
                    description: the sku sale price
      collection_skus:
        type: array
        description: a group of related products
        items:
          type: object
          properties:
            title:
              type: string
              description: the sku title
            short_description:
              type: string
              description: the sku short description
            product:
              type: string
              description: the sku parent product
            units:
              type: number
              description: the sku units inside the collection
            mandatory_signal_service:
              type: boolean
              description: true if is required to send a signal service
            signal_services:
              type: array
              description: the available signal services
              items:
                type: object
                additionalProperties: {}
            marketplace_info:
              type: object
              description: the Marketplace information associated to the sku.
              additionalProperties: {}
            color:
              type: string
              description: the sku color variant
            image_color:
              description: the color image
              $ref: '#/definitions/image'
            merchandising:
              description: the merchandising information
              $ref: '#/definitions/merchandising'
            gtin:
              type: string
              description: the sku gtin
            isbn_old:
              type: array
              description: the isbn_old array
              items:
                type: string
            web_model_code:
              type: string
              description: the model code
            add_to_cart:
              description: the add to cart variant
            without_basket_date:
              type: string
              description: the sku date when the product ends without stock
            image:
              description: the sku image
              $ref: '#/definitions/image'
            price:
              type: string
              description: the sku price
            edition_date:
              type: string
              description: the sku date when the product is launched
            sale_price:
              type: string
              description: the sku sale price
          required:
           - product
           - units
      financed_info:
        type: object
        description: the financing info
        additionalProperties: {}
      parent_collection:
        type: array
        items:
          type: object
          additionalProperties: {}
      range:
        type: object
        properties:
          range_id:
            type: string
            description: the facet id
          range_name:
            type: string
            description: the facet name
          gamma:
            type: string
            description: the dimension id
          products:
            type: array
            items:
              type: object
              additionalProperties: {}
          show_more:
            type: boolean
            description: a flag to indicate there are more products to show
      cross_selling:
        type: array
        items:
          type: object
          additionalProperties: {}
      short_description:
        type: string
        description: the product specific attributes
      description:
        type: array
        description: the product specific attributes
        items:
          type: object
          properties:
            title:
              type: array
              description: the description title
              items:
                type: string
            value:
              type: array
              description: the description value
              items:
                type: string
      id:
        type: string
        description: the product id
      attribute_groups:
        type: array
        description: the product specific attributes
        items:
          $ref: '#/definitions/attribute_group'
      shipping:
        type: object
        description: the shipping info
        additionalProperties: {}
      skus:
        type: array
        description: the product child skus
        items:
          type: object
          additionalProperties: {}
      priority_image:
        type: object
        description: the product specific attributes
        properties:
          title:
            type: string
            description: the image title
          big:
            description: the image with big size
            $ref: '#/definitions/image_complete'
          medium:
            description: the image with medium size
            $ref: '#/definitions/image_complete'
          small:
            description: the image with small size
            $ref: '#/definitions/image_complete'
          zoom:
            description: the image with zoom size
            $ref: '#/definitions/image_complete'
      searchable:
        type: boolean
        description: the product search flag
      comparable:
        type: boolean
        description: Product comparable flag
      category_id:
        type: string
        description: Category Repository Id
      store_id:
        type: string
        description: Store Id
      title:
        type: string
        description: the product title
      distribution_way:
        type: string
        description: distribution way code
      provider:
        type: string
        description: provider code
      product_type:
        type: string
        description: the product type
      pack_composition:
        type: string
        description: the pack presentation info
      authors:
        type: array
        description: the authors for digital books
        items:
          $ref: '#/definitions/condition_link'
      artists:
        type: array
        description: the artists for digital tickets
        items:
          $ref: '#/definitions/condition_link'
      directors:
        type: array
        description: the directors for digital films
        items:
          $ref: '#/definitions/condition_link'
      actors:
        type: array
        description: the actors for digital films
        items:
          $ref: '#/definitions/condition_link'
      year:
        type: string
        description: year (only for films)
      variants:
        type: object
        description: the product variants
        additionalProperties: {}
      coste_promotions:
        type: array
        description: the coste promotions associated to the product
        items:
          $ref: '#/definitions/coste_promotion'
      promos:
        description: the Direct promotions associated to the product
        $ref: '#/definitions/promos'
      gift_promotions:
        type: array
        description: the gift promotions associated to the product
        items:
          $ref: '#/definitions/gift_promotion'
      informativa_promotions:
        type: array
        description: the informativa promotions associated to the product
        items:
          $ref: '#/definitions/informativa_promotion'
      signal_services:
        type: array
        description: the available signal services
        items:
          type: object
          additionalProperties: {}
      size_guide:
        type: string
        description: the table with sizes associated to the product
      size_guide_external:
        type: string
        description: the size tables external url associated to the product
      unsearchable:
        type: boolean
        description: "tag no-index, no-follow"
      click_call:
        type: array
        description: click call devices
        items: {}
      click_call_close:
        type: array
        description: click call devices close
        items: {}
      category_hierarchy:
        type: array
        description: category hierarchy
        items:
          type: array
          items:
            type: object
            additionalProperties: {}
      marketplace_type_reference:
        type: string
        description: the reference type
      marketplace_show_offers:
        type: boolean
        description: flag to show offers or not
      marketplace_providers_details:
        type: array
        description: marketplace providers details
        items:
          type: object
          additionalProperties: {}
    title: PDP
    description: json schema for the pdp service
    additionalProperties: {}
  attribute_group:
    type: object
    properties:
      group:
        type: string
        description: the attributes group
      type:
        type: string
        description: the attribute type
        enum:
         - TABLE
         - LIST
      attributes:
        type: array
        description: the specific attribute
        items:
          type: object
          additionalProperties: {}
    additionalProperties: {}
  attribute_value:
    type: object
    properties:
      name:
        type: string
        description: the attribute name
      value:
        type: string
        description: the attribute value
      glossary:
        type: string
        description: the glossary value
      glossary_icon:
        type: string
        description: the glossary icon url
      type:
        type: string
        description: the type value
      url:
        type: string
        description: the url value
      title:
        type: string
        description: the title value
      additional:
        type: string
        description: the additional value
      values:
        type: object
        description: the attribute values
        properties:
          separator:
            description: the group separator
          values:
            type: array
            items:
              $ref: '#/definitions/attribute_value'
    additionalProperties: {}
  coste_promotion:
    type: object
    required:
     - promotion_type
    properties:
      id:
        type: string
        description: the promotion id
      name:
        type: string
        description: the promotion name
      mandatory:
        type: boolean
        description: Indicate if is required select the sku
      condition_link:
        $ref: '#/definitions/condition_link'
      corporativa:
        type: boolean
        description: the corporativa promotion type flag
      exclusive:
        type: boolean
        description: the exclusive promotion flag
      message:
        type: string
        description: the promotion message
      title:
        type: string
        description: the promotion name
      priority:
        type: number
        description: the promotion priority
      start_date:
        type: string
        description: the date the promotion starts
      end_date:
        type: string
        description: the date the promotion finishes
      promotion_type:
        type: string
        description: the promotion type
        default: coste
      title_list:
        type: string
        description: the promotion title for PLP
      description:
        type: string
        description: the promotion description
      url:
        type: string
        description: 'the url promotion '
      window_type:
        type: string
        description: 'type of window to show '
      image_url:
        type: string
        description: the image url promotion
      promo_link:
        type: object
        description: a link to the promotion condition
        additionalProperties: {}
      image:
        type: object
        description: the promotion image
        additionalProperties: {}
      products:
        type: array
        description: the promotion products
        items:
          type: object
          additionalProperties: {}
    additionalProperties: {}
  gift_promotion:
    type: object
    required:
     - promotion_type
    properties:
      id:
        type: string
        description: the promotion id
      name:
        type: string
        description: the promotion name
      condition_link:
        $ref: '#/definitions/condition_link'
      corporativa:
        type: boolean
        description: the corporativa promotion type flag
      exclusive:
        type: boolean
        description: the exclusive promotion flag
      message:
        type: string
        description: the promotion message
      title:
        type: string
        description: the promotion title
      priority:
        type: number
        description: the promotion priority
      start_date:
        type: string
        description: the date the promotion starts
      end_date:
        type: string
        description: the date the promotion finishes
      title_list:
        type: string
        description: the promotion title for PLP
      promotion_type:
        type: string
        description: the promotion type
        default: gift
      description:
        type: string
        description: the promotion description
      url:
        type: string
        description: 'the url promotion '
      window_type:
        type: string
        description: 'type of window to show '
      image_url:
        type: string
        description: the image url promotion
      promo_link:
        $ref: '#/definitions/condition_link'
      image:
        type: object
        description: the promotion image
        additionalProperties: {}
      preview:
        type: string
        description: "resources to show in PDP, values all/none/text"
      number_gift_limit:
        type: number
        description: the max number of gifts to choose
      min_quantity_for_gift:
        type: number
        description: the minimum amount to be able to choose a gift
      products:
        type: array
        description: the promotion associated products
        items:
          type: object
          additionalProperties: {}
    additionalProperties: {}
  informativa_promotion:
    type: object
    required:
     - promotion_type
    properties:
      id:
        type: string
        description: the promotion id
      name:
        type: string
        description: the promotion name
      condition_link:
        $ref: '#/definitions/condition_link'
      corporativa:
        type: boolean
        description: the corporativa promotion flag
      exclusive:
        type: boolean
        description: the exclusive promotion flag
      message:
        type: string
        description: the promotion message
      title:
        type: string
        description: the promotion title
      priority:
        type: number
        description: the promotion priority
      start_date:
        type: string
        description: the date the promotion starts
      end_date:
        type: string
        description: the date the promotion finishes
      title_list:
        type: string
        description: the promotion title for PLP
      gifs_free_text:
        type: string
        description: the promotion gift free text for PLP
      promotion_type:
        type: string
        description: the promotion type
        default: informativa
      description:
        type: string
        description: the promotion description
      url:
        type: string
        description: 'the url promotion '
      window_type:
        type: string
        description: 'type of window to show '
      image_url:
        type: string
        description: the image url promotion
      promo_link:
        type: object
        description: a link to the promotion condition
        additionalProperties: {}
      image:
        type: object
        description: the promotion image
        additionalProperties: {}
      image_links:
        type: object
        additionalProperties: {}
    additionalProperties: {}
  group_type:
    description: the product type
    enum:
     - SINGLE
     - COLLECTION
     - AMBIENT
     - COORDINATED
     - PACK
  condition_link:
    type: object
    properties:
      title:
        type: string
        description: the link title
      url:
        type: string
        description: the link url
    description: a link to the promotion conditions
    additionalProperties: {}
  image:
    type: object
    properties:
      type:
        type: string
        description: type
      ratio:
        type: number
        description: the image ratio
      title:
        type: string
        description: the image title
      url:
        type: string
        description: the image url
      small:
        description: the image with small size
        $ref: '#/definitions/video_url'
      medium:
        description: the image with medium size
        $ref: '#/definitions/video_url'
      big:
        description: the image with big size
        $ref: '#/definitions/video_url'
    description: the color image
    additionalProperties: {}
  image_complete:
    type: object
    required:
     - ratio
     - url
    properties:
      ratio:
        type: number
        description: the image ratio
      url:
        type: string
        description: the image url
      title:
        type: string
        description: the image title
    description: the image with small size
    additionalProperties: {}
  video_url:
    type: object
    required:
     - url
    properties:
      url:
        type: string
        description: the image url
      title:
        type: string
        description: the image title
    description: video url
    additionalProperties: {}
  sts_companies:
    type: array
    items:
      type: object
      additionalProperties: {}
  merchandising:
    type: object
    properties:
      license:
        type: string
        description: license
      edition_types:
        type: array
        description: the edition types
        items:
          type: string
      category_types:
        type: array
        description: the category types title
        items:
          type: string
    description: the merchandising information
    additionalProperties: {}
  promos:
    type: array
    description: the sku promotions
    items:
      type: object
      additionalProperties: {}
  errors:
    type: array
    items:
      type: object
      properties:
        description:
          type: string
        code:
          type: string
x-wso2-cors:
  corsConfigurationEnabled: false
  accessControlAllowOrigins:
   - '*'
  accessControlAllowCredentials: false
  accessControlAllowHeaders:
   - authorization
   - Access-Control-Allow-Origin
   - Content-Type
   - SOAPAction
  accessControlAllowMethods:
   - GET
   - PUT
   - POST
   - DELETE
   - PATCH
   - OPTIONS
x-wso2-production-endpoints:
  urls:
   - http://apiecommerce.eci.geci:10585/ecommerce
  type: http
x-wso2-sandbox-endpoints:
  urls:
   - http://servicios_hidden_atg.eci.geci:10580/ecommerce/eci
  type: http
x-wso2-basePath: /products/omnistore/product/v1/1.0.0
x-wso2-transports:
 - http
 - https
x-wso2-application-security:
  security-types:
   - oauth2
  optional: false
x-wso2-response-cache:
  enabled: false
  cacheTimeoutInSeconds: 300
